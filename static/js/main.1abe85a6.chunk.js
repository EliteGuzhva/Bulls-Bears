(this["webpackJsonpbulls-n-bears"]=this["webpackJsonpbulls-n-bears"]||[]).push([[0],{151:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(27),r=n(9),c=n(44),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{lessons:[],lessonsData:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a.SetLessons:return Object(r.a)(Object(r.a)({},e),{},{lessons:t.lessons});case c.a.SetLessonData:return Object(r.a)(Object(r.a)({},e),{},{lessonsData:[].concat(Object(a.a)(e.lessonsData),[t.data])});default:return e}}},152:function(e,t){},189:function(e,t,n){},303:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),i=n(13),s=n.n(i),o=(n(189),n(55)),u=n(333),l=n(354),b=n(336),j=n(2),d=function(e){var t=e.children,n=f();return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(u.a,{maxWidth:"md",children:Object(j.jsx)(l.a,{className:n.content,children:t})})})},f=Object(b.a)({content:{height:"100vh",marginTop:"20px"}}),h={color:"red"},p=n(53),O=n(17),x=n(61),v=n.n(x),m=function(){var e=g();return Object(j.jsxs)("div",{className:e.homePage,children:[Object(j.jsx)(v.a,{children:"# \u041f\u0440\u043e \u043f\u0440\u043e\u0435\u043a\u0442\n**Stonkapps** - \u044d\u0442\u043e \u0432\u0435\u0431 \u0441\u0430\u0439\u0442, \u0441\u043e\u0447\u0435\u0442\u0430\u044e\u0449\u0438\u0439 \u0432 \u0441\u0435\u0431\u0435 \u0443\u0440\u043e\u043a\u0438 \u043f\u043e \u0438\u043d\u0432\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044e \u0438 \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u044b\u0439 \u0441\u0438\u043c\u0443\u043b\u044f\u0442\u043e\u0440, \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0449\u0438\u0439 \u043e\u0442\u0442\u043e\u0447\u0438\u0442\u044c \u0437\u043d\u0430\u043d\u0438\u044f \u043d\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0431\u0438\u0440\u0436\u0438 \u0437\u0430 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0435 \u0433\u043e\u0434\u0430. \u0412\u0441\u0435 *\u043f\u0440\u043e\u0441\u0442\u043e* - \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u0447\u0438\u0442\u0430\u0439, \u043f\u043e\u0442\u043e\u043c \u043f\u0440\u043e\u0431\u0443\u0439. \u0418\u043b\u0438 \u043d\u0430\u043e\u0431\u043e\u0440\u043e\u0442. \u041d\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043f\u0435\u0441\u043e\u0447\u043d\u0438\u0446\u0430 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0442\u043e\u0433\u043e\u0432\u0430\u0442\u044c \u0430\u043a\u0446\u0438\u044f\u043c\u0438 \u0431\u043e\u043b\u0435\u0435 10 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439-\u0433\u043e\u043b\u0443\u0431\u044b\u0445 \u0444\u0438\u0448\u0435\u043a (\u041d\u0435 \u0437\u043d\u0430\u0435\u0448\u044c \u0447\u0442\u043e \u044d\u0442\u043e? \u0422\u043e\u0433\u0434\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0441\u044f, \u0447\u0442\u043e\u0431\u044b \u0443\u0437\u043d\u0430\u0442\u044c).\n"}),Object(j.jsx)(v.a,{children:"# \u041d\u0430\u0448\u0430 \u0418\u0441\u0442\u043e\u0440\u0438\u044f\n\u041f\u0440\u043e\u0435\u043a\u0442 \u043f\u043e \u043a\u043e\u043c\u0430\u043d\u0434\u043d\u043e\u0439 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0432 \u0443\u043d\u0438\u0432\u0435\u0440\u0435 \u0432\u043d\u0435\u0437\u0430\u043f\u043d\u043e \u0432\u044b\u043b\u0438\u043b\u0441\u044f \u0432\u043e\u0442 \u0432 \u044d\u0442\u043e.\n\n\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u043c \u043c\u044b, \u0432 \u0446\u0435\u043b\u043e\u043c, \u0434\u043e\u0432\u043e\u043b\u044c\u043d\u044b. \u0410 \u0432\u044b? \u0411\u0443\u0434\u0435\u043c \u0436\u0434\u0430\u0442\u044c \u0432\u0430\u0448\u0435\u0439 \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0439 \u0441\u0432\u044f\u0437\u0438.\n\n# \u041a\u043e\u043c\u0430\u043d\u0434\u0430\n### \u041d\u0430\u0442\u0430\u043b\u044c\u044f \u0414\u0435\u043d\u0438\u0441\u043e\u0432\u0430\n\n[GitHub](https://github.com/fearisinternal)\n\n### \u0412\u043b\u0430\u0434\u0438\u0441\u043b\u0430\u0432 \u0414\u043e\u0431\u0440\u044b\u043d\u0438\u043d\n\n[GitHub](https://github.com/br1ghts1de)\n\n### \u041c\u0430\u0440\u043a \u0413\u043e\u043b\u043e\u0432\u0430\u0442\u0441\u043a\u0438\u0445\n\n[GitHub](https://github.com/ujnomw)\n"}),Object(j.jsx)(v.a,{children:"# \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b\n[\u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435](https://www.youtube.com/watch?v=dQw4w9WgXcQ)\n\n[Email](https://www.youtube.com/watch?v=dQw4w9WgXcQ)\n\n[GitHub](https://github.com/EliteGuzhva/Bulls-Bears)"})]})},g=Object(b.a)({homePage:{display:"grid"}}),k=n(340),w=n(341),y=n(337),S=n(9),T=n(7),C=n.n(T),D=n(11),N=n(14),_="https://bulls-bears-stonk-apps.herokuapp.com",E=function(){var e=Object(D.a)(C.a.mark((function e(t,n){var a,r,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("username",t),a.append("password",n),"auth/login",e.next=6,fetch("".concat(_,"/").concat("auth/login"),{method:"POST",body:a});case 6:return r=e.sent,e.next=9,r.json();case 9:if(void 0!==(c=e.sent).token){e.next=12;break}throw new Error("Failed to get token");case 12:return e.abrupt("return",c.token);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(D.a)(C.a.mark((function e(t,n,a){var r,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"auth/register",(r=new FormData).append("username",t),r.append("password",n),r.append("email",a),e.next=7,fetch("".concat(_,"/").concat("auth/register"),{method:"POST",body:r});case 7:return c=e.sent,e.abrupt("return",c.ok);case 9:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),L=function(){var e=Object(D.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"auth/logout",e.next=3,fetch("".concat(_,"/").concat("auth/logout"),{method:"GET"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(e){return new Date(1e3*e)},I=function(e){return Number(e.getTime()/1e3)},P=function(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n},F=function(e){var t=new Date(e);return t.setHours(0,0,0),t},G=n(36),H=function(e){var t=e.transactions,n=e.ticker,a=Object(G.a)(e,["transactions","ticker"]),r=function(e){return function(t){var n=t.operation_type,a=Object(G.a)(t,["operation_type"]);return Object(S.a)({operationType:n,ticker:e},a)}}(n);return Object(S.a)({ticker:n,transactions:t.map(r)},a)},W=function(e){var t=e.assets,n=e.balance,a=e.virtual_current,r=e.virtual_start;return{assets:t.map(H),balance:n,currentTime:B(a),startTime:B(r)}},M=function(e){var t=e.sandbox_data,n=Object(G.a)(e,["sandbox_data"]);return Object(S.a)(Object(S.a)({},n),{},{sandboxData:W(t)})},R="https://bulls-bears-stonk-apps.herokuapp.com",K=function(){var e=Object(D.a)(C.a.mark((function e(t){var n,a,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(R,"/db/get_user"),{method:"GET",headers:{"x-access-tokens":t}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(!("message"in(a=e.sent))){e.next=8;break}throw new Error(a.message);case 8:return r=M(a),console.log("New user current time: ".concat(r.sandboxData.currentTime)),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(D.a)(C.a.mark((function e(t){var n,a,r,c,i,s,o,u,l;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,a=t.operationType,r=t.amount,c=t.price,i=t.ticker,(s=new FormData).append("ticker",i),s.append("operation_type",a),s.append("price",String(c)),s.append("amount",String(r)),e.next=8,fetch("".concat(R,"/db/sandbox_transaction"),{method:"POST",headers:{"x-access-tokens":n},body:s});case 8:return o=e.sent,e.next=11,o.json();case 11:return u=e.sent,l=M(u),console.log("New user current time: ".concat(l.sandboxData.currentTime)),e.abrupt("return",l);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(D.a)(C.a.mark((function e(t){var n,a,r,c,i,s,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,a=t.currentTime,r=String(I(P(a,1))),console.log("Sandbox step: ".concat(r)),(c=new FormData).append("virtual_current",r),e.next=7,fetch("".concat(R,"/db/sandbox_step"),{method:"POST",headers:{"x-access-tokens":n},body:c});case 7:return i=e.sent,e.next=10,i.json();case 10:return s=e.sent,o=M(s),console.log("New user current time: ".concat(o.sandboxData.currentTime)),e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(D.a)(C.a.mark((function e(t){var n,a,r,c,i,s,o,u;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,a=t.currentTime,r=t.balance,c=String(I(P(a,0))),(i=new FormData).append("virtual_start",c),i.append("balance",String(r)),e.next=7,fetch("".concat(R,"/db/sandbox_init"),{method:"POST",headers:{"x-access-tokens":n},body:i});case 7:return s=e.sent,e.next=10,s.json();case 10:if(!("message"in(o=e.sent))){e.next=13;break}throw new Error(o.message);case 13:return u=M(o),console.log("New user current time: ".concat(u.sandboxData.currentTime)),e.abrupt("return",u);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=Object(r.createContext)({}),X=function(e){var t=e.children,n=Object(r.useState)(),a=Object(N.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)(!1),o=Object(N.a)(s,2),u=o[0],l=o[1],b=Object(r.useState)(!0),d=Object(N.a)(b,2),f=d[0],h=d[1],p=Object(r.useState)(),O=Object(N.a)(p,2),x=O[0],v=O[1];Object(r.useEffect)((function(){var e=localStorage.getItem("bnb_auth");null!==e&&K(e).then((function(e){return v(e)})).catch((function(e){localStorage.removeItem("bnb_auth")})).finally((function(){i(e),h(!1)})),h(!1)}),[]);var m=function(){var e=Object(D.a)(C.a.mark((function e(t,n){var a,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,E(t,n);case 3:return a=e.sent,i(a),localStorage.setItem("bnb_auth",a),e.next=8,K(a);case 8:r=e.sent,v(r),l(!1);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(D.a)(C.a.mark((function e(t,n,a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,A(t,n,a);case 3:e.sent,l(!1);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),k=function(){var e=Object(D.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L(),localStorage.removeItem("bnb_auth"),v(void 0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(D.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,Q(Object(S.a)(Object(S.a)({},t),{},{token:String(c)}));case 3:n=e.sent,v(n),l(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(D.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x||!c){e.next=7;break}return l(!0),e.next=4,J({token:c,currentTime:x.sandboxData.currentTime});case 4:t=e.sent,v(t),l(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(D.a)(C.a.mark((function e(t,n){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===x||!c){e.next=7;break}return l(!0),e.next=4,U({token:c,currentTime:n,balance:t});case 4:a=e.sent,v(a),l(!1);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_=Object(r.useMemo)((function(){return{token:c,login:m,loading:u,register:g,user:x,logout:k,sandboxTransaction:w,sandboxStep:y,sandboxInit:T}}),[c,u,x]);return Object(j.jsx)(V.Provider,{value:_,children:!f&&t})},Y=function(){return Object(r.useContext)(V)},z=function(e){var t=Object(O.f)();return function(){t.push("".concat(e))}},q=n(163),Z=n(339),$=function(e){var t=e.user,n=t.username,a=(t.sandboxData.balance,e.logout),r=(ee(),c.a.useState(null)),i=Object(N.a)(r,2),s=i[0],o=i[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)(y.a,{color:"inherit",onClick:function(e){o(e.currentTarget)},children:n}),Object(j.jsx)(q.a,{id:"simple-menu",anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:function(){return o(null)},children:Object(j.jsx)(Z.a,{onClick:function(){o(null),a()},children:"Log out"})})]})},ee=Object(b.a)({}),te=Object(b.a)({account:{}}),ne=function(){te();var e=z("/sign-in"),t=Y(),n=t.user,a=t.logout;return void 0!==n&&void 0!==a?Object(j.jsx)($,{user:n,logout:a}):Object(j.jsx)(y.a,{color:"inherit",onClick:e,children:"Login/Register"})},ae=n(94),re=Object(b.a)({links:{flexGrow:1,display:"flex",justifyContent:"space-evenly"},link:{textDecoration:"none",color:"#fff"}}),ce=[{name:"Home",url:"/home"},{name:"Education",url:"/education"},{name:"Sandbox",url:"/sandbox"}],ie=function(){var e=re();return Object(j.jsx)("div",{className:e.links,children:ce.map((function(t){var n=t.name,a=t.url;return Object(j.jsx)(ae.a,{variant:"h6",children:Object(j.jsx)(p.b,{to:a,className:e.link,children:Object(j.jsx)(y.a,{color:"inherit",children:n})})})}))})},se=function(e){return Object(j.jsx)("div",{children:"BNB"})},oe=function(e){var t=ue();return Object(j.jsx)("div",{className:t.root,children:Object(j.jsx)(k.a,{position:"static",children:Object(j.jsxs)(w.a,{variant:"dense",className:t.toolbar,children:[Object(j.jsx)(se,{}),Object(j.jsx)(ie,{}),Object(j.jsx)(ne,{})]})})})},ue=Object(b.a)({root:{flexGrow:1},toolbar:{display:"grid",gridTemplateColumns:"1fr 2fr 1fr"}}),le=n(165),be=n(342),je=n(343),de=n(344),fe=n(345),he=function(e){var t=e.title,n=e.description,a=e.media,c=(e.id,e.data),i=pe(),s=Object(O.h)().url,o=Object(O.f)(),u=Object(r.useCallback)((function(){o.push("".concat(s,"/").concat(c))}),[o,c]);return Object(j.jsx)(be.a,{children:Object(j.jsxs)(je.a,{onClick:u,children:[Object(j.jsx)(de.a,{className:i.media,image:a}),Object(j.jsxs)(fe.a,{children:[Object(j.jsx)(ae.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t}),Object(j.jsx)(ae.a,{variant:"body2",color:"textSecondary",component:"p",children:n})]})]})})},pe=Object(b.a)({media:{height:"100px",width:"200px"}}),Oe=function(e){var t=xe();return Object(j.jsx)("div",{className:t.row,children:e.lessons.map((function(e){return Object(j.jsx)(he,Object(S.a)({},e),e.id)}))})},xe=Object(b.a)({row:{display:"flex",flexGrow:1,gap:"10px",margin:"5px"}}),ve=function(e){var t=e.levelName,n=e.lessons;return Object(j.jsxs)(le.a,{children:[Object(j.jsx)(ae.a,{variant:"subtitle1",children:"".concat(t.toUpperCase())}),Object(j.jsx)(Oe,{lessons:n})]})},me=n(20),ge=n(83),ke=n(27),we=n(64),ye=function(e){var t=e._id,n=e.data,a=e.index,r=e.description;return{id:t,data:n,title:e.title,description:r,index:a,media:e.photo_url}},Se=function(e,t){var n=t.filter((function(t){return t.level_name===e})).sort((function(e,t){return e.index-t.index})).map(ye);return{levelName:e,lessons:n}},Te=Object(we.a)((function(e){return e.education.lessons}),(function(e){return e})),Ce=Object(we.a)(Te,(function(e){return e.reduce((function(e,t){var n=t.level_name;return e.add(n)}),new Set([]))})),De=Object(we.a)(Ce,Te,(function(e,t){return Array.from(e).reduce((function(e,n){return[].concat(Object(ke.a)(e),[Se(n,t)])}),[])})),Ne=function(e){var t=Object(r.useState)([]),n=Object(N.a)(t,2),a=(n[0],n[1],Object(me.b)()),c=Object(me.c)(De);Object(r.useEffect)((function(){0===c.length&&a(Object(ge.a)())}),[c]);var i=_e();return void 0!==c?Object(j.jsx)("div",{className:i.container,children:c.map((function(e){return Object(r.createElement)(ve,Object(S.a)(Object(S.a)({},e),{},{key:e.levelName}))}))}):null},_e=Object(b.a)({container:{display:"flex",flexDirection:"column",gap:"40px"}}),Ee=n(74),Ae=n(157),Le=n(158),Be=n(91);!function(e){e.SetTickerData="SET_TICKER_DATA",e.AppendTickerData="APPEND_TICKER_DATA",e.SetSelectedTicker="SET_SELECTED_TICKER",e.SetAvailableTickers="SET_AVAILABLE_TICKERS"}(a||(a={}));var Ie,Pe=function(e){return Object.entries(e).map((function(e){var t=Object(N.a)(e,2),n=t[0],a=t[1],r=a.Close,c=a.High,i=a.Low,s=a.Open;return{date:new Date(1e3*Number(n)),close:r,high:c,low:i,open:s}}))},Fe="https://bulls-bears-stonk-apps.herokuapp.com",Ge=function(e,t){return{type:a.SetTickerData,tickersData:t,tickerName:e}},He=function(e,t){return{type:a.AppendTickerData,tickerData:t,tickerName:e}},We=n(71),Me={tickersData:{},availableTickerNames:[],selectedTicker:"AAPL"},Re=Object(Ee.createStore)(Object(Ee.combineReducers)({education:Be.education,tickers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.SetTickerData:return Object(S.a)(Object(S.a)({},e),{},{tickersData:Object(S.a)(Object(S.a)({},e.tickersData),{},Object(We.a)({},t.tickerName,t.tickersData))});case a.AppendTickerData:var n=t.tickerName,r=t.tickerData;return Object(S.a)(Object(S.a)({},e),{},{tickersData:Object(S.a)(Object(S.a)({},e.tickersData),{},Object(We.a)({},n,[].concat(Object(ke.a)(e.tickersData[n]),[r])))});case a.SetAvailableTickers:return Object(S.a)(Object(S.a)({},e),{},{availableTickerNames:t.tickerNames});case a.SetSelectedTicker:return Object(S.a)(Object(S.a)({},e),{},{selectedTicker:t.tickerName});default:return e}}}),Object(Le.composeWithDevTools)(Object(Ee.applyMiddleware)(Ae.a))),Ke=n(347),Qe=n(355),Je=n(346),Ue=function(e){var t=e.handleChange,n=e.tabsLabels,a=e.value,r=Ve();return Object(j.jsx)("div",{className:r.container,children:Object(j.jsx)(Qe.a,{orientation:"vertical",variant:"scrollable",value:a,onChange:t,children:n.map((function(e){return Object(j.jsx)(Je.a,{label:e})}))})})},Ve=Object(b.a)({container:{backgroundColor:"#fefefe"}}),Xe=function(e){var t=e.media,n=e.text,a=e.renderButtons;Ye();return Object(j.jsxs)("div",{children:[t.length>0&&Object(j.jsx)("div",{children:t.map((function(e){return Object(j.jsx)("img",{src:e,width:500})}))}),Object(j.jsx)(v.a,{children:n}),a()]})},Ye=Object(b.a)({}),ze=function(e){var t=e.value,n=e.index,a=e.children;qe();return Object(j.jsx)("div",{role:"tabpanel",hidden:t!==n,children:t===n&&Object(j.jsx)(ae.a,{children:a})})},qe=Object(b.a)({}),Ze=function(e){var t=$e(),n=Object(r.useState)(0),a=Object(N.a)(n,2),c=a[0],i=a[1],s=Object(O.f)(),o=Object(r.useCallback)((function(e,t){i(t)}),[i]),u=function(){i(c+1)},l=function(){i(c-1)},b=Object(O.g)().lessonDataId,d=Object(me.b)(),f=Object(me.c)((function(e){return function(e,t){return e.education.lessonsData.find((function(e){return e.id===t}))}(e,b)}));Object(r.useEffect)((function(){void 0===f&&d(Object(Be.getLessonData)(b))}),[f]);var h=Object(r.useMemo)((function(){return void 0===f?[]:f.slides.map((function(e){return"Slide ".concat(e.slideNumber)}))}),[f]),p=function(){return Object(j.jsxs)("div",{className:t.buttons,children:[Object(j.jsx)(y.a,{onClick:l,disabled:c<1,children:"Prev"}),Object(j.jsx)(y.a,{onClick:u,disabled:c>h.length-2,children:"Next"})]})};return Object(j.jsx)("div",{children:void 0!==f?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(y.a,{onClick:function(){s.goBack()},className:t.goBack,children:"Go Back"}),Object(j.jsxs)("div",{className:t.root,children:[Object(j.jsx)("div",{children:Object(j.jsx)(Ue,{handleChange:o,value:c,tabsLabels:h})}),Object(j.jsx)("div",{children:f.slides.map((function(e){var t=e.slideNumber,n=Object(G.a)(e,["slideNumber"]);return Object(j.jsx)(ze,{value:c,index:t-1,children:Object(j.jsx)(Xe,Object(S.a)(Object(S.a)({},n),{},{renderButtons:p}))},t-1)}))})]})]}):Object(j.jsx)("div",{className:t.progress,children:Object(j.jsx)(Ke.a,{})})})},$e=Object(b.a)({root:{display:"flex",gap:"10px"},goBack:{marginLeft:"35px"},progress:{display:"flex",alignItems:"center"},buttons:{display:"flex",justifyContent:"space-around"}}),et=n(353),tt=function(e){var t=e.value,n=e.handleChange;nt();return Object(j.jsx)(et.a,{variant:"outlined",value:t,onChange:n,label:"Username"})},nt=Object(b.a)({}),at=function(e){var t=e.value,n=e.handleChange;rt();return Object(j.jsx)(et.a,{variant:"outlined",value:t,onChange:n,label:"Password",type:"password"})},rt=Object(b.a)({}),ct=function(e){var t=e.children,n=it();return Object(j.jsx)("div",{className:n.container,children:t})},it=Object(b.a)({container:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px",marginTop:"50px"}}),st=function(e){var t=Object(r.useState)(),n=Object(N.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(),s=Object(N.a)(i,2),o=s[0],u=s[1],l=z("/sign-up"),b=z("/home"),d=Y().login,f=function(){var e=Object(D.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a&&o&&d)){e.next=4;break}return e.next=3,d(a,o);case 3:b();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)(ct,{children:[Object(j.jsx)(tt,{value:a,handleChange:function(e){return c(e.target.value)}}),Object(j.jsx)(at,{value:o,handleChange:function(e){return u(e.target.value)}}),Object(j.jsx)(y.a,{onClick:f,children:"Log In"}),Object(j.jsx)(y.a,{onClick:l,children:"I am a new member"})]})},ot=function(e){var t=e.value,n=e.handleChange;ut();return Object(j.jsx)(et.a,{variant:"outlined",value:t,onChange:n,label:"Email",type:"email"})},ut=Object(b.a)({}),lt=function(e){bt();var t=Object(r.useState)(),n=Object(N.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(),s=Object(N.a)(i,2),o=s[0],u=s[1],l=Object(r.useState)(),b=Object(N.a)(l,2),d=b[0],f=b[1],h=z("/sign-in"),p=Y(),O=p.register,x=p.loading,v=Object(r.useCallback)(Object(D.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(O&&o&&a&&d&&!1===x)){e.next=4;break}return e.next=3,O(a,o,d);case 3:!1===x&&h();case 4:case"end":return e.stop()}}),e)}))),[O,o,a,d]);return Object(j.jsxs)(ct,{children:[Object(j.jsx)(tt,{value:a,handleChange:function(e){return c(e.target.value)}}),Object(j.jsx)(at,{value:o,handleChange:function(e){return u(e.target.value)}}),Object(j.jsx)(ot,{value:d,handleChange:function(e){return f(e.target.value)}}),Object(j.jsx)(y.a,{onClick:v,children:"Join"}),Object(j.jsx)(y.a,{onClick:h,children:"I have got my account already"})]})},bt=Object(b.a)({}),jt=Object(we.a)((function(e){return e.tickers.tickersData}),(function(e,t){return t}),(function(e,t){return t in e?e[t]:void 0})),dt=function(e){return e.tickers.selectedTicker},ft=function(e){return e.tickers.availableTickerNames},ht=n(159),pt=function(e){var t=e.data,n=e.tickerName,a=[["day","a","b","c","d"]].concat(Object(ke.a)(t.map((function(e){var t=e.date,n=e.open,a=e.low,r=e.high;return[t,a,n,e.close,r]}))));return Object(j.jsx)(ht.a,{height:500,data:a,chartType:"CandlestickChart",options:{title:n,legend:"none"},rootProps:{"data-testid":"1"},controls:[{controlType:"ChartRangeFilter",options:{filterColumnIndex:0,ui:{chartType:"LineChart",chartOptions:{chartArea:{width:"90%",height:"20%"},hAxis:{baselineColor:"none"}}}},controlPosition:"bottom",controlWrapperParams:{state:{range:{start:t[0].date,end:t[t.length-1].date}}}}]})},Ot=function(e){var t=xt(),n=Object(me.b)(),a=Object(me.c)(dt),c=Object(me.c)((function(e){return jt(e,a)})),i=Y().user,s=null===i||void 0===i?void 0:i.sandboxData.currentTime;return Object(r.useEffect)((function(){if(void 0===c&&void 0!==s){var e=function(e,t){var n=new Date(e);return n.setMonth(n.getMonth()+t),n}(s,-3);n(function(e,t,n){return function(){var a=Object(D.a)(C.a.mark((function a(r){var c,i,s,o;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=t.getTime()/1e3,i=F(n).getTime()/1e3,a.next=4,fetch("".concat(Fe,"/fin/get_ticker_history?ticker=").concat(e,"&begin=").concat(c,"&end=").concat(i));case 4:return s=a.sent,a.next=7,s.json();case 7:o=a.sent,r(Ge(e,Pe(o)));case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(a,e,P(s,1)))}}),[c,a,n,s]),Object(r.useEffect)((function(){if(void 0!==c&&void 0!==s){var e=s,t=P(s,1);n(function(e,t,n){return function(){var a=Object(D.a)(C.a.mark((function a(r){var c,i,s,o,u,l;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Add ticker from ".concat(t," to ").concat(n)),c=t.getTime()/1e3,i=n.getTime()/1e3,a.next=5,fetch("".concat(Fe,"/fin/get_ticker_history?ticker=").concat(e,"&begin=").concat(c,"&end=").concat(i));case 5:return s=a.sent,a.next=8,s.json();case 8:o=a.sent,(u=Pe(o).filter((function(e){return e.date>=t}))).forEach((function(e){return console.log(e.date)})),l=u[0],0!==u.length&&r(He(e,l));case 13:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(a,e,t))}}),[s]),Object(j.jsx)("div",{className:t.container,children:void 0!==c?Object(j.jsx)(pt,{data:c,tickerName:a}):Object(j.jsx)(Ke.a,{})})},xt=Object(b.a)({container:{height:"600px"}}),vt=n(23),mt=n(352),gt=n(162),kt=function(e){var t=wt(),n=function(){var e=Object(r.useState)(new Date),t=Object(N.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(0),i=Object(N.a)(c,2),s=i[0],o=i[1],u=Y(),l=u.sandboxInit,b=u.loading;return{amount:s,selectedDate:n,handleAmountChange:function(e){var t=Number(e.target.value);o(t)},handleDateChange:function(e){a(e)},handleInitClick:function(){var e=Object(D.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===l||void 0===s||null===n){e.next=3;break}return e.next=3,l(s,n);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),loading:b}}(),a=n.amount,c=n.selectedDate,i=n.handleAmountChange,s=n.handleDateChange,o=n.handleInitClick;return Object(j.jsxs)("div",{className:t.container,children:[Object(j.jsxs)(vt.a,{utils:gt.a,children:[Object(j.jsx)(ae.a,{variant:"subtitle1",children:"Please specify sandbox environment"}),Object(j.jsx)(mt.a,{className:t.sameWidth,margin:"normal",id:"date-picker-dialog",label:"Virtual start date",value:c,onChange:s,KeyboardButtonProps:{"aria-label":"change date"}})]}),Object(j.jsx)(et.a,{type:"number",value:a,onChange:i,label:"Balance"}),Object(j.jsx)(y.a,{className:t.sameWidth,onClick:o,children:"Create sandbox"})]})},wt=Object(b.a)({container:{display:"flex",flexDirection:"column",gap:"10px",justifyContent:"center",alignItems:"center"},sameWidth:{width:"166px"}});!function(e){e.Buy="BUY",e.Sell="SELL"}(Ie||(Ie={}));var yt=function(){var e=Object(r.useState)(0),t=Object(N.a)(e,2),n=t[0],a=t[1],c=Y(),i=c.sandboxTransaction,s=(c.loading,Object(me.c)(dt)),o=Object(me.c)((function(e){return function(e,t){var n=jt(e,t);if(n)return Object(ke.a)(n).pop()}(e,s)}));return{amount:n,handleAmountChange:function(e){var t=Number(e.target.value);a((function(e){return t}))},handleBuyClick:function(){var e=Object(D.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===i||!o){e.next=3;break}return e.next=3,i({operationType:Ie.Buy,price:o.close,amount:n,ticker:s});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),handleSellClick:function(){var e=Object(D.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===i||!o){e.next=3;break}return e.next=3,i({operationType:Ie.Sell,price:o.close,amount:n,ticker:s});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}},St=function(e){Tt();var t=Y(),n=t.sandboxStep,a=t.loading,r=function(){var e=Object(D.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||a){e.next=3;break}return e.next=3,n();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsx)(y.a,{onClick:r,disabled:a,children:"Step"})},Tt=Object(b.a)({}),Ct=function(e){var t=yt(),n=t.amount,a=t.handleAmountChange,r=t.handleBuyClick,c=t.handleSellClick,i=Dt();return Object(j.jsxs)("div",{className:i.container,children:[Object(j.jsx)(et.a,{value:n,type:"number",onChange:a}),Object(j.jsx)(y.a,{onClick:r,children:"Buy"}),Object(j.jsx)(y.a,{onClick:c,children:"Sell"}),Object(j.jsx)(St,{})]})},Dt=Object(b.a)({container:{display:"flex"}}),Nt=n(338),_t=n(305),Et=n(348),At=function(e){Lt();var t=Object(me.b)(),n=Object(me.c)(ft),c=Y().user;Object(r.useEffect)((function(){var e;0===n.length&&void 0!==c&&t((e=c.sandboxData.currentTime,function(){var t=Object(D.a)(C.a.mark((function t(n){var r,c,i;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=I(e),t.next=3,fetch("".concat(Fe,"/fin/get_existing_tickers?time=").concat(r));case 3:return c=t.sent,t.next=6,c.json();case 6:i=t.sent,n((s=i.tickers,{type:a.SetAvailableTickers,tickerNames:s}));case 8:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[n]);var i=function(e){var n;t((n=e,{type:a.SetSelectedTicker,tickerName:n}))};return Object(j.jsx)("div",{children:n.length>0?Object(j.jsx)(Nt.a,{children:n.map((function(e){return Object(j.jsx)(_t.a,{onClick:function(){return i(e)},children:Object(j.jsx)(Et.a,{primary:e})})}))}):Object(j.jsx)(Ke.a,{})})},Lt=Object(b.a)({}),Bt=n(349),It=n(350),Pt=n(351),Ft=function(e){Gt();var t=Y().user,n=Object(r.useState)([]),a=Object(N.a)(n,2),c=a[0],i=a[1];return Object(r.useEffect)((function(){void 0!==t&&i(function(e){return e.sandboxData.assets.reduce((function(e,t){return[].concat(Object(ke.a)(e),Object(ke.a)(t.transactions))}),[]).sort((function(e,t){return e.timestamp-t.timestamp}))}(t))}),[t]),Object(j.jsx)("div",{children:c.length>0&&Object(j.jsx)(Nt.a,{children:c.map((function(e){var t=e.amount,n=e.price,a=e.operationType,r=e.ticker;return Object(j.jsxs)(_t.a,{children:[Object(j.jsx)(Bt.a,{children:a===Ie.Buy?Object(j.jsx)(It.a,{}):Object(j.jsx)(Pt.a,{})}),Object(j.jsx)(Et.a,{primary:"".concat(t," ").concat(r),secondary:n})]})}))})})},Gt=Object(b.a)({item:{}}),Ht=function(e){Wt();var t=Y().user,n=null===t||void 0===t?void 0:t.sandboxData.assets;return Object(j.jsx)("div",{children:void 0!==n&&Object(j.jsx)(Nt.a,{children:n.map((function(e){var t=e.ticker,n=e.amount;return Object(j.jsx)(_t.a,{children:Object(j.jsx)(Et.a,{primary:t,secondary:n})})}))})})},Wt=Object(b.a)({});function Mt(e){var t=e.children,n=e.value,a=e.index,r=Object(G.a)(e,["children","value","index"]);return Object(j.jsx)("div",Object(S.a)(Object(S.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},r),{},{children:n===a&&Object(j.jsx)(l.a,{p:3,children:Object(j.jsx)(ae.a,{children:t})})}))}var Rt=function(e){Kt();var t=c.a.useState(0),n=Object(N.a)(t,2),a=n[0],r=n[1];return Object(j.jsxs)("div",{children:[Object(j.jsxs)(Qe.a,{value:a,onChange:function(e,t){r(t)},"aria-label":"simple tabs example",children:[Object(j.jsx)(Je.a,{label:"Transaction"}),Object(j.jsx)(Je.a,{label:"Tickers"}),Object(j.jsx)(Je.a,{label:"History"}),Object(j.jsx)(Je.a,{label:"Your Assets"})]}),Object(j.jsx)(Mt,{value:a,index:0,children:Object(j.jsx)(Ct,{})}),Object(j.jsx)(Mt,{value:a,index:1,children:Object(j.jsx)(At,{})}),Object(j.jsx)(Mt,{value:a,index:2,children:Object(j.jsx)(Ft,{})}),Object(j.jsx)(Mt,{value:a,index:3,children:Object(j.jsx)(Ht,{})})]})},Kt=Object(b.a)({root:{backgroundColor:"#3f51b5",flexGrow:1}}),Qt=function(e){var t,n=Y().user,a=null===n||void 0===n||null===(t=n.sandboxData)||void 0===t?void 0:t.startTime;return Object(j.jsx)("div",{children:void 0!==a&&0!==a.getTime()?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Ot,{}),Object(j.jsx)(Rt,{})]}):Object(j.jsx)(kt,{})})},Jt=(Object(b.a)({}),n(18));var Ut=function(){return Object(Jt.a)(me.a,{store:Re,children:Object(Jt.a)(o.b,{theme:h,children:Object(Jt.a)(p.a,{children:Object(Jt.b)(X,{children:[Object(Jt.a)(oe,{}),Object(Jt.a)(d,{children:Object(Jt.b)(O.c,{children:[Object(Jt.a)(O.a,{path:"/home",children:Object(Jt.a)(m,{})}),Object(Jt.a)(O.a,{exact:!0,path:"/education",children:Object(Jt.a)(Ne,{})}),Object(Jt.a)(O.a,{exact:!0,path:"/sandbox",children:Object(Jt.a)(Qt,{})}),Object(Jt.a)(O.a,{path:"/education/:lessonDataId",children:Object(Jt.a)(Ze,{})}),Object(Jt.a)(O.a,{path:"/sign-in",children:Object(Jt.a)(st,{})}),Object(Jt.a)(O.a,{path:"/sign-up",children:Object(Jt.a)(lt,{})})]})})]})})})})},Vt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,360)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(Ut,{})}),document.getElementById("root")),Vt()},44:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.SetLessons="SET_LESSONS",e.SetLessonData="SET_LESSON_DATA"}(a||(a={}))},83:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return j}));var a=n(7),r=n.n(a),c=n(11),i=n(44),s=n(9),o=n(36),u=function(e){var t=e.slide_number,n=Object(o.a)(e,["slide_number"]);return Object(s.a)(Object(s.a)({},n),{},{slideNumber:t})},l="https://bulls-bears-stonk-apps.herokuapp.com",b=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(l,"/db/get_all_lessons"));case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,t((r=a.lessons,{type:i.a.SetLessons,lessons:r}));case 7:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a,c,s,o,b;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(l,"/db/get_lesson_data?uid=").concat(e));case 2:return a=t.sent,t.next=5,a.json();case 5:c=t.sent,s=c.lesson_data,o=s._id,b=s.slides,n((r={id:o,slides:b.map(u)},{type:i.a.SetLessonData,data:r}));case 8:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()}},91:function(e,t,n){"use strict";n(44);var a=n(83);n.d(t,"getLessonData",(function(){return a.b}));var r=n(151);n.d(t,"education",(function(){return r.a}));n(152)}},[[303,1,2]]]);
//# sourceMappingURL=main.1abe85a6.chunk.js.map